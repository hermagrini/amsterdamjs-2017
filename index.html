<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <title>Udacity Reveal.JS Boilerplate</title>

  <link rel="stylesheet" href="css/reveal.css">
  <link rel="stylesheet" href="css/theme/udacity.css">
  <link rel="stylesheet" href="css/udacity-overrides.css">

  <!-- Theme used for syntax highlighting of code -->
  <link rel="stylesheet" href="lib/css/zenburn.css">
  <link rel="stylesheet" href="lib/css/flexboxgrid.min.css">

  <!-- Printing and PDF exports -->
  <script>
    var link = document.createElement('link');
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
    document.getElementsByTagName('head')[0].appendChild(link);
  </script>
</head>

<body class="udacity">
  <div class="reveal">
    <div class="slides">

      <img class="udacity-logo--white svg--unstyled" src="/images/logo-udacity--white.svg" alt="">

      <section class="row center-xs middle-xs"
               data-state="segue segue-gradient--green-purple udacity-logo--white_show">
        <div class="col-xs-12">
          <h1>The Road to Web Performance in 3 Critical Steps</h1>
          <h3 class="subtitle">AmsterdamJS 2017</h3>
        </div>
      </section>

      <section class="row start-xs middle-xs"
               data-state="segue segue-lower-corner--blue-green">
        <div class="col-xs-8">
          <h1>Hern√°n Magrini</h1>
          <h3 class="subtitle">Front End Engineer - Udacity Europe</h3>
        </div>
        <div class="col-xs-4 start-xs">
          <img class="svg unstyled" data-src="/images/germany-map.svg" alt="">
        </div>
      </section>

      <section class="row start-xs middle-xs"
               data-state="segue segue-lower-corner--purple-magenta">
        <div class="col-xs-12">
          <h1>Disclaimer</h1>
          <ul>
            <li class="fragment">
              <h2>No time for deep dive</h2>
            </li>
            <li class="fragment">
              <h2>It's about the process</h2>
            </li>
          </ul>
        </div>
      </section>

      <section class="row start-xs middle-xs"
               data-state="segue segue-gradient--blue-green">
        <div class="col-xs-12">
          <h1>What is Performance?</h1>
        </div>
      </section>

      <section class="row center-xs middle-xs"
               data-state="segue segue--blue">
        <h2>Network: 3G (100ms, 250-750 kb/s)</h2>
        <video data-autoplay controls src="/videos/progressive-loading.mov" ></video>
      </section>

      <section class="row center-xs middle-xs"
               data-state="segue segue--blue">
        <h2>Network: 3G (100ms, 250-750 kb/s)</h2>
        <video data-autoplay controls src="/videos/blank-loading.mov" ></video>
      </section>

      <section class="row start-xs middle-xs"
               data-state="segue segue-gradient--blue-green">
        <div class="col-xs-12">
          <h1>Performance is an experience</h1>
        </div>
      </section>

      <section class="row start-xs middle-xs"
               data-state="segue segue-gradient--blue-green">
        <div class="col-xs-12">
          <h1>Measure!</h1>
          <h2>Road to Performance: Step 1</h2>
        </div>
      </section>

      <section class="row start-xs middle-xs"
               data-state="colorize colorize-gradient--blue-green"
               data-background-image="/images/devtools-bg.png">
        <div class="col-xs-12">
          <h1>Chrome Dev Tools</h1>
        </div>
      </section>

      <section class="row start-xs middle-xs center-xs"
               data-state="segue segue-gradient--blue-green">
        <div class="col-xs-12">
          <img class="unstyled" data-src="/images/devtools-network.png" alt="">
        </div>
      </section>

      <section class="row start-xs middle-xs center-xs"
               data-state="segue segue-gradient--blue-green">
        <div class="col-xs-12">
          <img class="unstyled" data-src="/images/devtools-performance.png" alt="">
        </div>
      </section>

      <section class="row start-xs middle-xs center-xs"
               data-state="segue segue-gradient--blue-green">
        <div class="col-xs-12">
          <img class="unstyled" data-src="/images/devtools-audit.png" alt="">
        </div>
      </section>

      <section class="row start-xs middle-xs"
               data-state="colorize colorize-gradient--blue-green"
               data-background-image="/images/pagespeed-bg.png">
        <div class="col-xs-12">
          <h1>Page Speed Insights</h1>
        </div>
      </section>

      <section class="row start-xs middle-xs center-xs"
               data-state="segue segue-gradient--blue-green">
        <div class="col-xs-12">
          <img class="unstyled" data-src="/images/pagespeed-ud.png" style="width: 65%" alt="">
        </div>
      </section>

      <section class="row start-xs middle-xs"
               data-state="colorize colorize-gradient--blue-green"
               data-background-image="/images/webpagetest-bg.png">
        <div class="col-xs-12">
          <h1>Web Page Test</h1>
        </div>
      </section>

      <section class="row start-xs middle-xs center-xs"
               data-state="segue segue-gradient--blue-green">
        <div class="col-xs-12">
          <img class="unstyled" data-src="/images/webpagetest-ud.png" style="width: 70%" alt="">
        </div>
      </section>

      <section class="row start-xs middle-xs"
               data-state="colorize colorize-gradient--blue-green"
               data-background-image="/images/lighthouse-bg.png">
        <div class="col-xs-12">
          <h1>Lighthouse</h1>
        </div>
      </section>

      <section class="row start-xs middle-xs center-xs"
               data-state="segue segue-gradient--blue-green">
        <div class="col-xs-12">
          <img class="unstyled" data-src="/images/lighthouse-ud.png" style="width: 75%" alt="">
        </div>
      </section>

      <section class="row start-xs middle-xs"
               data-state="segue segue-gradient--blue-green">
        <div class="col-xs-12">
          <h1>Real world metrics</h1>
        </div>
      </section>

      <section class="row start-xs middle-xs center-xs"
               data-state="segue segue-gradient--blue-green">
        <div class="col-xs-12">
          <h2>Tracking: First Paint</h2>
          <pre>
          <code class="javascript" data-trim data-noescape>
            const observer = <mark>new PerformanceObserver</mark>((list) => {
              for (const entry of list.getEntries()) {
                // `name` will be either 'first-paint' or 'first-contentful-paint'.
                const metricName = entry.name;
                const time = Math.round(entry.startTime + entry.duration);

                ga('send', 'event', {
                  eventCategory: 'Performance Metrics',
                  eventAction: metricName,
                  eventValue: time,
                  nonInteraction: true,
                });
              }
            });

            // Start observing paint entries.
            observer.observe<mark>({entryTypes: ['paint']})</mark>;
          </code>
        </pre>
        </div>
      </section>

      <section class="row start-xs middle-xs center-xs"
               data-state="segue segue-gradient--blue-green">
        <div class="col-xs-12">
          <h2>Tracking: Long Tasks</h2>
          <pre>
            <code class="javascript" data-trim data-noescape>
              const observer = <mark>new PerformanceObserver</mark>((list) => {
                for (const entry of list.getEntries()) {
                  ga('send', 'event', {
                    eventCategory: 'Performance Metrics',
                    eventAction: 'longtask',
                    eventValue: Math.round(entry.startTime + entry.duration),
                    eventLabel: JSON.stringify(entry.attribution),
                  });
                }
              });

              observer.observe<mark>({entryTypes: ['longtask']})</mark>;
            </code>
          </pre>
        </div>
      </section>

      <section class="row start-xs middle-xs center-xs"
               data-state="segue segue-gradient--blue-green">
        <div class="col-xs-12">
          <h2>Tracking: Time to Interactive</h2>
          <pre>
            <code class="javascript" data-trim data-noescape>
              <mark>import ttiPolyfill from './path/to/tti-polyfill.js';</mark>

              ttiPolyfill.<mark>getFirstConsistentlyInteractive()</mark>.then((tti) => {
                ga('send', 'event', {
                  eventCategory: 'Performance Metrics',
                  eventAction: 'TTI',
                  eventValue: tti,
                  nonInteraction: true,
                });
              });
            </code>
          </pre>
        </div>
      </section>

      <section class="row start-xs middle-xs"
               data-state="segue segue-gradient--green-purple">
        <div class="col-xs-12">
          <h1>Optimize!</h1>
          <h2>Road to Performance: Step 2</h2>
        </div>
      </section>

      <section class="row start-xs middle-xs"
               data-state="segue segue-gradient--green-purple">
        <div class="col-xs-12">
          <h1>Minification</h1>
        </div>
      </section>

      <section class="row start-xs middle-xs"
               data-state="segue segue-gradient--green-purple">
        <div class="col-xs-12">
          <h1>Defer non-critical Asset Loading</h1>
          <h2>(aka: optimizing the Critical Path)</h2>
        </div>
      </section>

      <section class="row start-xs middle-xs"
               data-state="segue segue-gradient--magenta-orange">
        <div class="col-xs-12">
          <h1>Javascript Optimization</h1>
        </div>
      </section>

      <section class="row start-xs middle-xs center-xs"
               data-state="segue segue-gradient--magenta-orange">
        <div class="col-xs-12">
          <h1>script async attribute</h1>
          <pre>
            <code class="html" data-trim data-noescape>
              &lt;script <mark>async</mark> src=&quot;foobar.js&quot; onload=&quot;myFunction()&quot;&gt;&lt;/script&gt;
            </code>
          </pre>
          <img class="unstyled" data-src="/images/js-async.png" alt="">
        </div>
      </section>

      <section class="row start-xs middle-xs center-xs"
               data-state="segue segue-gradient--magenta-orange">
        <div class="col-xs-12">
          <h1>script defer attribute</h1>
          <pre>
            <code class="html" data-trim data-noescape>
              &lt;script <mark>defer</mark> src=&quot;foobar.js&quot; onload=&quot;myFunction()&quot;&gt;&lt;/script&gt;
            </code>
          </pre>
          <img class="unstyled" data-src="/images/js-defer.png" alt="">
        </div>
      </section>

      <section class="row start-xs middle-xs"
               data-state="segue segue-gradient--purple-magenta">
        <div class="col-xs-12">
          <h1>CSS Optimization</h1>
        </div>
      </section>

      <section class="row start-xs middle-xs"
               data-state="segue segue-gradient--purple-magenta">
        <div class="col-xs-12">
          <h1>Inline your above the fold CSS</h1>
          <h2>(aka Critical CSS)</h2>
        </div>
      </section>

      <section class="row start-xs middle-xs center-xs"
               data-state="segue segue-gradient--purple-magenta">
        <div class="col-xs-12">
          <h1>Un-blocking rendering</h1>
          <pre>
            <code class="html" data-trim data-noescape>
              &lt;link href=&quot;style.css&quot; rel=&quot;stylesheet&quot;&gt;
              &lt;link href=&quot;print.css&quot; rel=&quot;stylesheet&quot; <mark>media=&quot;print&quot;</mark>&gt;
              &lt;link href=&quot;other.css&quot; rel=&quot;stylesheet&quot; <mark>media=&quot;(min-width: 40em)&quot;</mark>&gt;
            </code>
          </pre>
        </div>
      </section>

      <section class="row start-xs middle-xs"
               data-state="segue segue-gradient--purple-magenta">
        <div class="col-xs-12">
          <h1>Remove Unused Styles</h1>
        </div>
      </section>

      <section class="row start-xs middle-xs"
               data-state="segue segue-gradient--green-purple">
        <div class="col-xs-12">
          <h1>Font Optimization</h1>
        </div>
      </section>

      <section class="row start-xs middle-xs center-xs"
               data-state="segue segue-gradient--green-purple">
        <div class="col-xs-12">
          <h1>Use Fewer Fonts</h1>
          <a href="https://www.bramstein.com/writing/web-font-anti-patterns-subsetting.html">
            <img class="unstyled" style="width: 50%"
                 data-src="/images/font-subsetting.png" alt="">
          </a>
        </div>
      </section>

      <section class="row start-xs middle-xs center-xs"
               data-state="segue segue-gradient--green-purple">
        <div class="col-xs-12">
          <h1>Load Fonts Asynchronously</h1>
          <a href="https://github.com/zachleat/fontfaceonload">
            <img class="unstyled" style="width: 70%"
                 data-src="/images/font-async.png" alt="">
          </a>
        </div>
      </section>

      <section class="row start-xs middle-xs"
               data-state="segue segue-gradient--green-purple">
        <div class="col-xs-12">
          <h1>Cache Fonts Aggressively</h1>
        </div>
      </section>

      <section class="row start-xs middle-xs"
               data-state="segue segue-gradient--blue-green">
        <div class="col-xs-12">
          <h1>Image Optimization</h1>
        </div>
      </section>

      <section class="row start-xs middle-xs center-xs"
               data-state="segue segue-gradient--blue-green">
        <div class="col-xs-12">
          <h1>Progressive load above the fold</h1>
          <video data-autoplay loop
                 style="width: 50%"
                 src="/videos/images-lazyload.mov" ></video>
        </div>
      </section>

      <section class="row start-xs middle-xs"
               data-state="segue segue-gradient--blue-green">
        <div class="col-xs-12">
          <h1>Defer every other image</h1>
        </div>
      </section>

      <section class="row start-xs middle-xs"
               data-state="segue segue-gradient--green-purple">
        <div class="col-xs-12">
          <h1>Network Optimization</h1>
        </div>
      </section>

      <section class="row start-xs middle-xs"
               data-state="segue segue-gradient--green-purple">
        <div class="col-xs-12">
          <h1>GZIP all your text</h1>
        </div>
      </section>

      <section class="row start-xs middle-xs"
               data-state="segue segue-gradient--green-purple">
        <div class="col-xs-12">
          <h1>HTTP/2</h1>
        </div>
      </section>

      <section class="row start-xs middle-xs center-xs"
               data-state="segue segue-gradient--green-purple">
        <div class="col-xs-12">
          <h1>Prefetch and Preconnect</h1>
          <pre>
            <code class="html" data-trim data-noescape>
              &lt;link <mark>rel=&quot;dns-prefetch&quot;</mark> href=&quot;//www.example.com&quot;&gt;
              &lt;link href='https://cdn.keycdn.com' <mark>rel='preconnect'</mark> crossorigin&gt;
            </code>
          </pre>
        </div>
      </section>

      <section class="row start-xs middle-xs center-xs"
               data-state="segue segue-gradient--green-purple">
        <div class="col-xs-12">
          <h1>Preload</h1>
          <pre>
            <code class="html" data-trim data-noescape>
              <mark>&lt;link rel=&quot;preload&quot; href=&quot;used-later.js&quot; as=&quot;script&quot;&gt;</mark>
              &lt;!-- ...other HTML... --&gt;
              &lt;script&gt;
                // Later on, after some condition has been met, we run the preloaded
                // JavaScript by inserting a &lt;script&gt; tag into the DOM.
                var usedLaterScript = document.createElement('script');
                usedLaterScript.src = 'used-later.js';
                <mark>document.body.appendChild(usedLaterScript)</mark>
              &lt;/script&gt;
            </code>
          </pre>
        </div>
      </section>

      <section class="row start-xs middle-xs"
               data-state="segue segue-gradient--blue-green">
        <div class="col-xs-12">
          <h1>Deliver Consistency</h1>
          <h2>Road to Performance: Step 3</h2>
        </div>
      </section>

      <section class="row start-xs middle-xs"
               data-state="segue segue-gradient--blue-green">
        <div class="col-xs-12">
          <h1>LiFi and Offline</h1>
        </div>
      </section>

      <section class="row start-xs middle-xs"
               data-state="segue segue-gradient--blue-green">
        <div class="col-xs-12">
          <h1>Service Workers</h1>
        </div>
      </section>

      <section class="row start-xs middle-xs center-xs"
               data-state="segue segue-gradient--blue-green">
        <div class="col-xs-12">
          <h1>workboxjs.org</h1>
          <img class="unstyled" style="width: 50%"
               data-src="/images/sw-as-dependency.png" alt="">
        </div>
      </section>

      <section class="row start-xs middle-xs"
               data-state="segue segue-gradient--blue-green">
        <div class="col-xs-12">
          <h1>why use workbox?</h1>
          <ul>
            <li>Precaching URLs easily and reliably.</li>
            <li>Incrementing a cache version string to ensure that precached resources are updated.</li>
            <li>Implementing a cache expiration strategy to account for cache size or entry age.</li>
            <li>Building common patterns such as lie-fi network timeouts and boilerplate code.</li>
            <li>Capturing and reporting analytics data during offline usage.</li>
          </ul>
        </div>
      </section>

      <section class="row start-xs middle-xs"
               data-state="segue segue-gradient--green-purple">
        <div class="col-xs-12">
          <h1>In Summary...</h1>
        </div>
      </section>

      <section class="row start-xs middle-xs"
               data-state="segue segue-gradient--green-purple">
        <div class="col-xs-12">
          <h1>Measure</h1>
          <h2 class="fragment">"The Road to Web Performance in 3 Critical Steps"</h2>
          <ul class="fragment">
            <li>Characters: 47</li>
            <li>Words: 9</li>
            <li>Reading Time: 00:00:02</li>
          </ul>
        </div>
      </section>

      <section class="row start-xs middle-xs"
               data-state="segue segue-gradient--green-purple">
        <div class="col-xs-12">
          <h1>Optimize</h1>
          <h2 class="fragment">"Critical Steps to Web Perf"</h2>
          <ul class="fragment">
            <li>Characters: 26</li>
            <li>Words: 5</li>
            <li>Reading Time: 00:00:01</li>
          </ul>
        </div>
      </section>

      <section class="row start-xs middle-xs"
               data-state="segue segue-gradient--green-purple">
        <div class="col-xs-12">
          <h1>Deliver Consistency</h1>
          <h2><a href="http://localhost:9999" target="_blank"
                 style="color: white;">Quick Demo!</a></h2>
        </div>
      </section>

      <section class="row start-xs middle-xs"
               data-state="segue segue-gradient--green-purple udacity-logo--white_show">
        <div class="col-xs-12">
          <h1>THANK YOU!</h1>
          <h2>@hermagrini</h2>
        </div>

        <aside class="notes">
        </aside>
      </section>



    </div>
  </div>

  <script src="lib/js/head.min.js"></script>
  <script src="js/reveal.js"></script>

  <script>
      // More info https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        history: true,

        progress: false,

        viewDistance: 2,

        // We use http://flexboxgrid.com/ to easily move stuff around, so we don't need
        // RevealJS auto centering
        center: false,
        // 16:9 RATIO
        /* Comment this to disable */
        width: 1920,
        height: 1080,
        // 4:3 RATIO
        /* Remove this comment to enable
        width: 960,
        height: 700,
        */

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        // Bounds for smallest/largest possible scale to apply to content
        minScale: 0.2,
        maxScale: 1.5,

        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
          // Default dependencies
          { src: 'plugin/markdown/marked.js' },
          { src: 'plugin/markdown/markdown.js' },
          { src: 'plugin/notes/notes.js', async: true },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function () { hljs.initHighlightingOnLoad(); } },

          // Multiplexing
          { src: '//cdn.socket.io/socket.io-1.3.5.js', async: true },
		      { src: 'plugin/multiplex/master.js', async: true },

		      // and if you want speaker notes
		      // { src: 'plugin/notes-server/client.js', async: true }

        ]
      });
  </script>
</body>

</html>
